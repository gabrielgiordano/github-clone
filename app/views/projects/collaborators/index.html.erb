<p id="notice"><%= notice %></p>

<h1>Project Collaborators</h1>

<% if @user_role&.errors&.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@user_role.errors.count, "error") %> prohibited this operation from being concluded:</h2>
    <ul>
    <% @user_role.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<% @collaborators.each do |collaborator| %>
  <%= render "update_form", project_id: @project_id, user: collaborator[:user], user_role: collaborator[:role] %>
<% end %>

<%= render "form", user_role: @user_role %>

<%= link_to 'Back', project_path(@project_id) %>
